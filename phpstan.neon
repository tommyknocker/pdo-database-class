includes:
    - vendor/phpstan/phpstan-phpunit/extension.neon

parameters:
    level: 8
    paths:
        - src
    
    # Exclude vendor, examples and tests from analysis
    excludePaths:
        - vendor
        - examples
        - tests
    
    # For PHP 8.4
    phpVersion: 80400
    
    # Enable strict checks
    treatPhpDocTypesAsCertain: false
    
    # Additional strict checks for detecting redundant code
    checkMissingCallableSignature: true
    checkUninitializedProperties: true
    checkDynamicProperties: true
    
    # Ignore ReflectionClass generic type warnings for recursive property search methods
    # These methods work correctly at runtime but PHPStan cannot infer the generic type statically
    ignoreErrors:
        - '#has parameter \$reflection with generic class ReflectionClass but does not specify its types: T#'